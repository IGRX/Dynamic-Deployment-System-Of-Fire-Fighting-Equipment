<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>装备管理 - 消防装备系统</title>
    <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./editing.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- 侧边栏（与主页相同） -->
    <div id="sidebar">
        <h2><i class="fas fa-fire-extinguisher"></i> 导航</h2>
        <ul>
            <li onclick="window.location.href='../../index.html'">
                <i class="fas fa-map-marked-alt"></i>
                实时地图
            </li>
            <li  class="active">
                <i class="fas fa-tasks"></i>
                装备管理
            </li>
        </ul>
    </div>

    <!-- 内容区域 -->
    <div id="content">
        <!-- 装备管理视图 -->
        <div class="editing-view" id="editing-view" >
            <div class="header-bar">
                <button class="btn-back" onclick="window.location.href='../../index.html'">
                    <i class="fas fa-arrow-left"></i> 返回
                </button>
            </div>
            <div class="loading-overlay" id="loading">
                <div class="spinner"></div>
                <div>加载中...</div>
            </div>
            <h1>装备管理</h1>
            <div class="editing-panel">
                <div class="editing-panel-header">
                    <div class="toolbar">
                        <button class="btn-add" onclick="openEditModal()">
                            <i class="fas fa-plus"></i> 添加装备
                        </button>
                    </div>
                </div>
                <div class="editing-panel-content">
                    <table class="equipment-table">
                      <thead>
                        <tr>
                          <th>装备名称</th>
                          <th>详情</th>
                          <th>状态</th>
                          <th>位置坐标</th>
                          <th>操作</th>
                        </tr>
                      </thead>
                      <tbody id="equipment-list"></tbody>
                    </table>
                  </div>
                  
                  <!-- 添加编辑模态框 -->
                  <div id="edit-modal" class="modal">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h3>装备信息</h3>
                        <button class="btn-close" onclick="closeEditModal()">&times;</button>
                      </div>
                      <form id="equipment-form" onsubmit="handleSubmit(event)">
                        <div class="form-group">
                          <label>名称</label>
                          <input type="text" name="name" required>
                        </div>
                        <div class="form-group">
                          <label>详情</label>
                          <textarea name="detail" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                          <label>状态</label>
                          <select name="status" required>
                            <option value="库存">库存</option>
                            <option value="使用中">使用中</option>
                            <option value="移动中">移动中</option>
                            <option value="空闲">空闲</option>
                            <option value="维护中">维护中</option>
                            <option value="损坏">损坏</option>
                            <option value="失去联系">失去联系</option>
                          </select>
                        </div>
                        <div class="form-group dual">
                          <div>
                            <label>经度</label>
                            <input type="number" step="0.000001" name="lng" required>
                          </div>
                          <div>
                            <label>纬度</label>
                            <input type="number" step="0.000001" name="lat" required>
                          </div>
                        </div>
                        <div class="form-actions">
                          <button type="button" class="btn-cancel" onclick="closeEditModal()">取消</button>
                          <button type="submit" class="btn-save">保存</button>
                        </div>
                      </form>
                    </div>
                  </div>
        </div>
    </div>

    <script src="./editing.js"></script>
</body>

</html>